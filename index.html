<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–†—É–ª–µ—Ç–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Draggable.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.10.2/lottie.min.js"></script>
  <script src="https://unpkg.com/embla-carousel/embla-carousel.umd.js"></script>
  <style>
    body {
      margin: 0;
      background: #0d1117;
      color: white;
      font-family: Arial, sans-serif;
      text-align: center;
    }
    .container {
      max-width: 600px;
      margin: auto;
      padding: 20px;
    }
    .news-banner {
      height: 50px;
      width: 100%;
      background: linear-gradient(to right, #80d5ff, #79b1ff, #80d5ff);
      color: #ffffff;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      cursor: pointer;
      margin-bottom: 20px;
    }
    .reel {
      position: relative;
      width: 100%;
      height: 130px;
      overflow: hidden;
      border-radius: 12px;
      background: rgba(255,255,255,0.06);
      backdrop-filter: blur(6px);
      margin-bottom: 25px;
    }
    .gifts-wrapper {
      display: flex;
      height: 100%;
      align-items: center;
      will-change: transform;
    }
    .gift {
      width: 100px;
      height: 100px;
      background: rgba(255,255,255,0.08);
      border-radius: 15px;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-shrink: 0;
      margin: 0 10px;
    }
    .gift img {
      max-width: 90px;
      max-height: 90px;
    }
    .pointer-line {
      position: absolute;
      top: 0; left: 50%;
      width: 4px; height: 100%;
      background: rgba(0,200,255,0.5);
      transform: translateX(-50%);
      z-index: 10;
    }
    button {
        background-color: #2ea1f8;
        border: none;
        color: white;
        padding: 12px 24px;
        font-size: 18px;
        font-weight: bold; /* –ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç */
        border-radius: 8px;
        cursor: pointer;
        transition: background-color 0.3s;
        width: 99%; /* –ó–∞–¥–∞—ë–º —à–∏—Ä–∏–Ω—É 100% –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
        box-sizing: border-box; /* –£—á–∏—Ç—ã–≤–∞–µ–º –ø–∞–¥–¥–∏–Ω–≥–∏ –≤ –æ–±—â–µ–π —à–∏—Ä–∏–Ω–µ */
      }
      
    button:hover { background-color: #1e81ce; }
    .modal {
      position: fixed; top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgb(0, 0, 0, 0.908);
      backdrop-filter: blur(40px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      flex-direction: column;
    }
    .modal-image {
        max-width: 90%; /* –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É */
        max-height: 60%; /* –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –≤—ã—Å–æ—Ç—É */
        object-fit: contain; /* –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ */
        margin-top: -20px; /* –ß—É—Ç—å –≤—ã—à–µ —Ü–µ–Ω—Ç—Ä–∞ */
        margin-bottom: 15px;
      }            
    .modal h2 { font-size: 24px; color: #00ffcc; margin: 0; }
    .modal button { font-size: 16px; margin-top: 30px; padding: 10px 26px; }
    /* Embla Carousel */
    .swipe-roulette-container { margin-top: 30px; text-align: center; }
    .swipe-text {
        color: #ffffff;
        font-size: 17px;
        margin-bottom: 10px;
        text-align: left;
        padding-left: 10px;
        font-weight: bold;
      }      
    .embla { overflow: hidden; width: 100%; }
    .embla__container { display: flex; }
    .embla__slide {
      flex: 0 0 auto;
      width: 70px; height: 70px;
      margin-right: 10px;
      background: rgba(255,255,255,0.08);
      border-radius: 15px;
      display: flex; align-items: center; justify-content: center;
    }
    .embla__slide img { max-width: 60px; max-height: 60px; }
  </style>
</head>
<body>
  <div class="container">
    <div class="news-banner" onclick="window.location.href='https://your-link.com'">Check our news!</div>

    <div class="reel" id="reel">
      <div class="pointer-line"></div>
      <div class="gifts-wrapper" id="giftsTrack"></div>
    </div>
    <button id="spinButton">Try your luck</button>

    <div class="swipe-roulette-container">
      <div class="swipe-text">What can I drop?</div>
      <div class="embla" id="embla">
        <div class="embla__container" id="emblaTrack"></div>
      </div>
    </div>
  </div>

  <div class="modal" id="modal">
    <img id="modalImage" class="modal-image" src="" alt="Prize image" style="display: none;">
    <div class="modal-animation" id="modalLottie"></div>
    <h2>Try your luck next time üçÄ</h2>
    <button id="closeModal">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>
   

  <script>
    const modalImage = document.getElementById("modalImage");
modalImage.src = "nothing_drop.png"; // –í—Å—Ç–∞–≤—å —Å–≤–æ—é —Å—Å—ã–ª–∫—É
modalImage.style.display = "block";

    // –î–∞–Ω–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–æ–≤
    const gifts = [
      "1CHzB4K5FantEZu.png","680e5d8f8bf66.png","toTNAm2yurDAiqK.png","U8z9ivaScNyJ86V.png",
      "Oj0IhQW5D5QyVFf.png","PQM9MVSTAF7sQ12.png",
      "nothing_drop.png","pudbsohqxfD98gc.png","bvK9PmcyFgAh4gP.png","q2c0eUx5k8krA97.png"
    ];

    // –†–µ–Ω–¥–µ—Ä –æ—Å–Ω–æ–≤–Ω–æ–π —Ä—É–ª–µ—Ç–∫–∏
    const giftsTrack = document.getElementById("giftsTrack");
    const fullGifts = [];
    for (let i = 0; i < 10; i++) fullGifts.push(...gifts);
    fullGifts.forEach(g => {
      const div = document.createElement("div"), img = document.createElement("img");
      div.className = "gift";
      img.src = (g.endsWith(".png")||g.endsWith(".jpg")||g.startsWith("http")) ? g
             : "https://em-content.zobj.net/thumbs/240/apple/354/crying-face_1f622.png";
      div.appendChild(img);
      giftsTrack.appendChild(div);
    });

    // –°–ø–∏–Ω
    let spinning = false;
    document.getElementById("spinButton").onclick = () => {
      if (spinning) return; spinning = true;
      const prize = "nothing_drop.png";
      const idx = fullGifts.map((v,i)=>v===prize?i:-1).filter(i=>i!==-1)[0] + 5*gifts.length;
      const offset = idx*120 - (document.getElementById("reel").offsetWidth/2 - 60);
      gsap.to(giftsTrack, {
        x: -offset,
        duration: 6,
        ease: "power5.inOut",
        onComplete(){
          document.getElementById("modal").style.display="flex";
          document.getElementById("modalLottie").innerHTML="";
          lottie.loadAnimation({
            container:document.getElementById("modalLottie"),
            renderer:"svg",loop:true,autoplay:true,
            path:"https://lottie.host/2e7b308e-92b6-495c-a96b-cf93e02eb7b4/BiwZQ7vQaf.json"
          });
        }
      });
    };
    document.getElementById("closeModal").onclick = () => {
      document.getElementById("modal").style.display="none";
      gsap.set(giftsTrack,{x:0});
      spinning=false;
    };

    // –†–µ–Ω–¥–µ—Ä Embla
    const emblaTrack = document.getElementById("emblaTrack");
    gifts.forEach(g => {
      const slide = document.createElement("div");
      slide.className = "embla__slide";
      if (g.endsWith(".png")||g.endsWith(".jpg")||g.startsWith("http")) {
        const img = document.createElement("img");
        img.src = g; slide.appendChild(img);
      } else {
        slide.textContent = g;
        slide.style.fontSize = "36px";
      }
      emblaTrack.appendChild(slide);
    });

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Embla
    EmblaCarousel(document.getElementById("embla"), {
      loop: false,
      align: "start",
      dragFree: true
    });
  </script>
</body>
</html>


